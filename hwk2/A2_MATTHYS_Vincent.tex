\documentclass{article}
\input{packages}
\input{macros}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Header
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\assignmenttitle}{Assignment 2 :Image classification}
\renewcommand{\studentname}{Vincent Matthys}
\renewcommand{\email}{vincent.matthys@ens-paris-saclay.fr}

% renew (sub)section to get alpanumeric characters
\renewcommand{\thesection}{\Alph{section}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Syntax for using figure macros:
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% \singlefig{filename}{scalefactor}{caption}{label}
% \doublefig{\subfig{filename}{scalefactor}{subcaption}{sublabel}}
%           {\subfig{filename}{scalefactor}{subcaption}{sublabel}}
%           {global caption}{label}
% \triplefig{\subfig{filename}{scalefactor}{subcaption}{sublabel}}
%           {\subfig{filename}{scalefactor}{subcaption}{sublabel}}
%           {\subfig{filename}{scalefactor}{subcaption}{sublabel}}
%           {global caption}{label}
%
% Tips:
% - with scalefactor=1, a single figure will take the whole page width; a double figure, half page width; and a triple figure, a third of the page width
% - image files should be placed in the image folder
% - no need to put image extension to include the image
% - for vector graphics (plots), pdf figures are suggested
% - for images, jpg/png are suggested
% - labels can be left empty {}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Beginning of assignment
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\maketitle

\part{Training and testing an Image Classifier}

\section{Data preparation and feature extraction}


\question{QA1: Why is the spatial tiling used in the histogram image representation?}

The spatial tiling is a way to keep spatial information about relative positions of features, which should help to refine the correspondances, by having a representation of words in a space of dimesnion \( 128 \dotproduct nbr_{tiles}\).

\section{Train a classifier for images containing aeroplanes}

\question{QB1: Show the ranked training images in your report.}


\question{QB2: In your report, show relevant patches for the three most relevant visual words (in three separate figures) for the top ranked training image. Are the most relevant visual words on the airplane or also appear on background?}

\section{Classify the test images and assess the performance}

\question{QC1: Why is the bias term not needed for the image ranking?}

The two classification boundaries are shown in Figure~\ref{fig:overfit}. As it can be observed, model A, represented in green, is producing a very irregular classification boundary which gives a training error of zero, while model B, represented in black, is producing a smoother classification boundary which mis-classifies a few examples of the training data.

However, although the training error is higher for model B than for model A, we expect model B to perform better on the test data, as its smoother classification boundary is more robust to the noise in the training data, while model A is overfitting to the noise in this particular training data.

It is therefore concluded that model B is superior, as it will offer better generalization properties.

\singlefig{overfitting_vectorial}{0.45}{Two different models for fitting the data. The classification boundaries for models A and B are shown in green and black respectively.}{fig:overfit}

\question{QIA.3: Show the detected features in the image for three different values of the peakThreshold option.}

The detected features with three different values of $peakThreshold$ are shown in Figure~\ref{fig:peakThreshold}. % if we want to refer to one particular subplot, we can use its sublabel instead: e.g. \ref{fig:th_0.0001}

\triplefig{\subfig{features_th1}{1}{$peakThreshold = 0.0001$}{fig:th_0.0001}} % sublabels used here
{\subfig{features_th2}{1}{$peakThreshold = 0.001$}{fig:th_0.001}}
{\subfig{features_th3}{1}{$peakThreshold = 0.01$}{fig:th_0.01}}
{Feature detectors with three different values of $peakThreshold$}{fig:peakThreshold}

\end{document}
